<ion-header>
  <ion-toolbar>
    <ion-title> {{ isLogin ? 'Login' : 'Signup' }} </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form action="" #f="ngForm" (ngSubmit)="onSubmit(f)"> <!-- # Référence locale ca me donnera accès à cet objet de formulaire Angular-->
      <ion-grid>
        <ion-row>
          <ion-col size-sm="6" offset-sm="3">
            <ion-list>
              <!-- Element de saisie => email -->
              <ion-item>
                <ion-label position="floating">E-mail</ion-label>
                <ion-input 
                type="email" 
                ngModel name="email" 
                required email
                #emailCtrl ="ngModel" 
                >               
              </ion-input>
              </ion-item>
              <!-- # Référence locale ca me donnera accès à cet objet de formulaire Angular, pour avoir un texte d'erreur couplé au ngIf -->
              <ion-item *ngIf="!emailCtrl.valid && emailCtrl.touched" lines="none">  
                <ion-label>Should be a valid email adress</ion-label>
              </ion-item>
              <!-- Element de saisie => password -->
              <ion-item>
                <ion-label position="floating">Password</ion-label>
                <ion-input 
                type="password" 
                ngModel name="password" 
                required minlength="6"
                #passwordCtrl = "ngModel"
                >
              </ion-input>
              </ion-item>
              <!-- Phrase d'erreur pour le password -->
              <ion-item *ngIf="!passwordCtrl.valid && passwordCtrl.touched" lines="none">
                <ion-label>
                  Should at least be 6 characters long
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" offset-md="3">
            <!-- <div class="ion-text-center">
          <ion-spinner color="primary" *ngIf="isLoading"></ion-spinner>
        </div> -->

            <!-- Bouton de basculement en Inscription ou Login -->
            <ion-button 
            color="primary" 
            type="button" 
            fill="clear" 
            expand="block"
            (click)="onSwitchAuthMode()"
            >
            Switch to {{ isLogin ? 'Signup' : 'Login' }}
            <!-- Si isLogin est à true switch to Signup sinon (false) switch to Login -->
          </ion-button>

            <!-- Bouton Login/Submit -->
            <ion-button 
            color="primary" 
            class="ion-margin"
            type="submit" 
            (click)="onLogin()"  
            expand="block"
            [disabled] = "!f.valid"
            >
            <!-- disabled = si ma reference locale f (donc mon formulaire) n'est pas valide et bien tu désactive le bouton -->
              Login
            </ion-button>

          </ion-col>
        </ion-row>
      </ion-grid>
  </form>

  
  
  
</ion-content>
